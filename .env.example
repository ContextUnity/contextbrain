# =============================================================================
# ContextBrain Environment Configuration
# =============================================================================
# Copy to `.env` and fill in your values.

# ===== Database (REQUIRED) =====
BRAIN_DATABASE_URL=postgresql+psycopg://user:pass@localhost:5432/brain
# Alias: DATABASE_URL (fallback if BRAIN_DATABASE_URL not set)
PGVECTOR_DIM=768
# BRAIN_SCHEMA=brain               # PostgreSQL schema name (default: brain)

# ===== gRPC Server =====
BRAIN_PORT=50051
# BRAIN_INSTANCE_NAME=shared        # Instance label for logs
# BRAIN_NEWS_ENGINE=true            # Enable news engine tables on startup
# BRAIN_TENANTS=tenant_a,tenant_b   # Comma-separated tenant list for RLS

# ===== Embeddings (REQUIRED â€” choose one) =====
# Option 1: OpenAI embeddings (recommended for production)
EMBEDDER_TYPE=openai
OPENAI_API_KEY=sk-...
# OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# Option 2: Vertex AI embeddings
# EMBEDDER_TYPE=vertex-ai

# Option 3: Local embeddings (requires sentence-transformers)
# EMBEDDER_TYPE=local

# ===== LLM Providers (for ingestion and RAG features) =====
# CONTEXTBRAIN_DEFAULT_LLM=openai/gpt-5-mini
# CONTEXTBRAIN_INTENT_LLM=vertex/gemini-2.5-flash-lite
# CONTEXTBRAIN_SUGGESTIONS_LLM=vertex/gemini-2.5-flash
# CONTEXTBRAIN_GENERATION_LLM=vertex/gemini-2.5-flash
# CONTEXTBRAIN_NO_RESULTS_LLM=vertex/gemini-2.5-flash

# Provider API keys
# ANTHROPIC_API_KEY=sk-ant-...
# OPENROUTER_API_KEY=sk-or-...
# GROQ_API_KEY=gsk_...
# HF_TOKEN=hf_...
# RUNPOD_API_KEY=...

# ===== Vertex AI / Google Cloud =====
# VERTEX_PROJECT_ID=your-project-id
# VERTEX_LOCATION=us-central1
# VERTEX_DISCOVERY_ENGINE_LOCATION=global
# VERTEX_DATA_STORE_LOCATION=global
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/credentials.json

# ===== Postgres Pool =====
# POSTGRES_POOL_MIN_SIZE=2
# POSTGRES_POOL_MAX_SIZE=10
# POSTGRES_RLS_ENABLED=false

# ===== Ingestion Pipeline =====
# CONTEXTBRAIN_CONFIG_PATH=ingestion.toml
# DATA_PATH=./data
# ASSETS_PATH=./assets

# ===== Google CSE (optional) =====
# GOOGLE_CSE_ENABLED=false
# GOOGLE_CSE_API_KEY=
# GOOGLE_CSE_CX=

# ===== Security =====
# CONTEXTBRAIN_SECURITY_ENABLED=false
# CONTEXTBRAIN_PRIVATE_KEY_PATH=/path/to/private.pem

# ===== Redis (Embedding Cache) =====
# Used for caching OpenAI embeddings to avoid redundant API calls.
# Falls back to in-memory cache if Redis is unavailable.
# REDIS_URL=redis://localhost:6379/0

# ===== Observability =====
LOG_LEVEL=INFO
SERVICE_NAME=contextbrain
# CONTEXTBRAIN_DEBUG=false
# LANGFUSE_PUBLIC_KEY=pk_...
# LANGFUSE_SECRET_KEY=sk_...
# LANGFUSE_HOST=https://cloud.langfuse.com
# LANGFUSE_ENVIRONMENT=development
# LANGFUSE_SERVICE_NAME=contextbrain
